fly_stereo:
  mavlink_reader:
    device: /dev/ttyTHS1
  image_processor:
    CameraTrigger:
      chip_num: 0
      pin_num: 79
      auto_trigger_async: true
      auto_trigger_async_rate_hz: 20
    Camera0:
      device_num: 0
      src_pipeline: "v4l2src device=/dev/video0 ! video/x-raw,width=1280,height=720 ! nvvidconv flip-method=0 ! video/x-raw, format=(string)GRAY8 ! appsink max-buffers=1 drop=true"
      sink_pipeline: "appsrc ! nvvidconv ! nvv4l2h264enc insert-sps-pps=true ! h264parse ! rtph264pay pt=96 ! udpsink host=192.168.104.2 port=8002 sync=false "
      framerate: 20
      width: 1280
      height: 720
      flip_method: 0
      hardware_trigger_mode: true
      gain: 2
      exposure_time: 1050
    Camera1:
      device_num: 1
      src_pipeline: "v4l2src device=/dev/video1 ! video/x-raw,width=1280,height=720 ! nvvidconv flip-method=0 ! video/x-raw, format=(string)GRAY8 ! appsink max-buffers=1 drop=true"
      framerate: 20
      width: 1280
      height: 720
      flip_method: 0
      hardware_trigger_mode: true
      gain: 2
      exposure_time: 1050
      sink_pipeline: "appsrc ! nvvidconv ! nvv4l2h264enc insert-sps-pps=true ! h264parse ! rtph264pay pt=96 ! udpsink host=192.168.104.2 port=8001 sync=false "

    max_error_counter: 20
    stereo_threshold: 25
    ransac_threshold: 3

    goodFeaturesToTrack:
      max_corners: 100
      quality_level: 0.3
      min_dist: 10.0

    calcOpticalFlowPyrLK:
      window_size: 21
      max_pyramid_level: 5


    stereo_calibration:
      K1: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 6.2699541225429721e+02, 0., 6.4013884871639459e+02, 0.,
             6.3460141308231107e+02, 3.5916938252414332e+02, 0., 0., 1. ]
      K2: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 5.3971856253115322e+02, 0., 6.3970808296888413e+02, 0.,
             5.4286409499178342e+02, 3.6035858588446541e+02, 0., 0., 1. ]
      D1: !!opencv-matrix
         rows: 1
         cols: 5
         dt: d
         data: [ -7.7903986288275356e-02, -1.2871843807074956e-01,
             6.5629620654526581e-04, 2.2898598877787251e-03,
             6.2022400873939516e-02 ]
      D2: !!opencv-matrix
         rows: 1
         cols: 5
         dt: d
         data: [ -5.7652925847210268e-02, -5.6867696984077169e-02,
             -1.5404659470901088e-02, 3.2748329228818010e-03,
             2.3325078082539506e-02 ]
      R: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 9.9991140725424132e-01, -1.3313231293937704e-03,
             -1.3244063634996550e-02, 1.2812226618516122e-03,
             9.9999199477229217e-01, -3.7906278929543897e-03,
             1.3249004163840191e-02, 3.7733234763570357e-03,
             9.9990510845710212e-01 ]
      T: [ -4.6038242079964174e-02, 2.4562481079315387e-01,
          -1.5767311920435281e-01 ]
      E: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 3.4562985144304024e-03, 1.5859867886007173e-01,
             2.4500382295225856e-01, -1.5704918964877682e-01,
             3.8363105013095315e-04, 4.8122106264411747e-02,
             -2.4566203545580392e-01, -4.5710867541591163e-02,
             3.4275844690494161e-03 ]
      F: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ -2.6917696591575891e-07, -1.2203644347852770e-05,
             -7.4081687511320235e-03, 1.2160140289821073e-05,
             -2.9348098256903572e-08, -1.0109847255369973e-02,
             6.1161820362512628e-03, 9.7156979966157072e-03,
             9.9999999999999989e-01 ]
      R1: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 9.8599676330152963e-01, 1.5806051043975594e-01,
             -5.3171964402596035e-02, -1.6179616469196270e-01,
             8.2944477814816142e-01, -5.3464320915328067e-01,
             -4.0402770324303533e-02, 5.3575949365575515e-01,
             8.4340345096984892e-01 ]
      R2: !!opencv-matrix
         rows: 3
         cols: 3
         dt: d
         data: [ 9.8640319440771285e-01, 1.5952408165841875e-01,
             -3.9507030175626456e-02, -1.5580524105914412e-01,
             8.3125747480243051e-01, -5.3360635064023432e-01,
             -5.2282548912248886e-02, 5.3250641118781372e-01,
             8.4480971651793479e-01 ]
      P1: !!opencv-matrix
         rows: 3
         cols: 4
         dt: d
         data: [ 5.8335698739272516e+02, 0., 6.1604228973388672e+02, 0., 0.,
             5.8335698739272516e+02, 1.0630836832523346e+03, 0., 0., 0., 1.,
             0. ]
      P2: !!opencv-matrix
         rows: 3
         cols: 4
         dt: d
         data: [ 5.8335698739272516e+02, 0., 6.1604228973388672e+02, 0., 0.,
             5.8335698739272516e+02, 1.0630836832523346e+03,
             1.7237372775175126e+02, 0., 0., 1., 0. ]
      Q: !!opencv-matrix
         rows: 4
         cols: 4
         dt: d
         data: [ 1., 0., 0., -6.1604228973388672e+02, 0., 1., 0.,
             -1.0630836832523346e+03, 0., 0., 0., 5.8335698739272516e+02, 0.,
             0., -3.3842569572601149e+00, 0. ]
